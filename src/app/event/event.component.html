<section class="main">
    <div *ngIf="isLoading" class="loading-message">
        <p>Ladataan tietoja hakusanalla {{searchText}} rajapinnasta...odota</p>
      </div>

      <div class="inline-flex" role="group">
        <button
        [ngClass]="{'disabled-button': button3Clicked}" [disabled]="button3Clicked"
        (click)="onPageChangeMinusDate()"
          type="button"
          class="inline-block rounded-l border-2 border-primary px-6 pb-[6px] pt-2 text-xs font-medium uppercase leading-normal text-primary transition duration-150 ease-in-out hover:border-primary-600 hover:bg-neutral-500 hover:bg-opacity-10 hover:text-primary-600 focus:border-primary-600 focus:text-primary-600 focus:outline-none focus:ring-0 active:border-primary-700 active:text-primary-700 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10"
          data-te-ripple-init
          data-te-ripple-color="light">
          <fa-icon [icon]="faArrowLeft"></fa-icon> Sivu: {{newPageNumber - 1}}
        </button>
        <button
        [ngClass]="{'disabled-button': button1Clicked}" [disabled]="button1Clicked"
          (click)="changeToday()"
          (click)="onButton1Click()"
          type="button"
          class="-ml-0.5 inline-block border-2 border-primary px-6 pb-[6px] pt-2 text-xs font-medium uppercase leading-normal text-primary transition duration-150 ease-in-out hover:border-primary-600 hover:bg-neutral-500 hover:bg-opacity-10 hover:text-primary-600 focus:border-primary-600 focus:text-primary-600 focus:outline-none focus:ring-0 active:border-primary-700 active:text-primary-700 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10"
          data-te-ripple-init
          data-te-ripple-color="light">
          {{currentDate | date:'dd.MM.yyyy'}} Tänään
        </button>
        <button
        [ngClass]="{'disabled-button': button1Clicked}" [disabled]="button1Clicked"
        (click)="changeToday1()"
        (click)="onButton1Click()"
        type="button"
        class="-ml-0.5 inline-block border-2 border-primary px-6 pb-[6px] pt-2 text-xs font-medium uppercase leading-normal text-primary transition duration-150 ease-in-out hover:border-primary-600 hover:bg-neutral-500 hover:bg-opacity-10 hover:text-primary-600 focus:border-primary-600 focus:text-primary-600 focus:outline-none focus:ring-0 active:border-primary-700 active:text-primary-700 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10"
        data-te-ripple-init
        data-te-ripple-color="light">
        {{tomorrowDate | date:'dd.MM.yyyy'}} Huomenna
      </button>
      <button
      [ngClass]="{'disabled-button': button1Clicked}" [disabled]="button1Clicked"
      (click)="changeToday2()"
      (click)="onButton1Click()"
      type="button"
      class="-ml-0.5 inline-block border-2 border-primary px-6 pb-[6px] pt-2 text-xs font-medium uppercase leading-normal text-primary transition duration-150 ease-in-out hover:border-primary-600 hover:bg-neutral-500 hover:bg-opacity-10 hover:text-primary-600 focus:border-primary-600 focus:text-primary-600 focus:outline-none focus:ring-0 active:border-primary-700 active:text-primary-700 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10"
      data-te-ripple-init
      data-te-ripple-color="light">
      {{tomorrow2Date | date:'dd.MM.yyyy'}} Ylihuomenna
    </button>
        <button
        [ngClass]="{'disabled-button': button3Clicked}" [disabled]="button3Clicked"
          (click)="onPageChangePlusDate()"
          
          type="button"
          class="-ml-0.5 inline-block rounded-r border-2 border-primary px-6 pb-[6px] pt-2 text-xs font-medium uppercase leading-normal text-primary transition duration-150 ease-in-out hover:border-primary-600 hover:bg-neutral-500 hover:bg-opacity-10 hover:text-primary-600 focus:border-primary-600 focus:text-primary-600 focus:outline-none focus:ring-0 active:border-primary-700 active:text-primary-700 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10"
          data-te-ripple-init
          data-te-ripple-color="light">
          Sivu: {{newPageNumber + 1}}  <fa-icon [icon]="faArrowRight"></fa-icon>
          
            </button>
        </div>



        <br>
<input class="text-input" [(ngModel)]="searchText" placeholder="Hae tapahtumaa esim. Sibelius tai Konsertti">

<button class="btn bg-emerald-600 text-stone-100" 
(click)="onButton2Click()"
(click)="DoSearch()">Search
</button>

<button class="btn bg-indigo-700 text-stone-100" 
(click)="onButton2Click()"
(click)="SearchStadion()">Stadion
</button>

<button class="btn bg-indigo-700 text-stone-100" 
(click)="onButton2Click()"
(click)="SearchLapset()">Lapset
</button>

<button class="btn bg-indigo-700 text-stone-100" 
(click)="onButton2Click()"
(click)="SearchHipHop()">Hip Hop
</button>

<!-- Buttons for testing
  <button [ngClass]="{'disabled-button': button1Clicked}" [disabled]="button1Clicked" (click)="onButton1Click()">Button 1</button>
  <button [ngClass]="{'disabled-button': button2Clicked}" [disabled]="button2Clicked" (click)="onButton2Click()">Button 2</button>
  <button [ngClass]="{'disabled-button': button3Clicked}" [disabled]="button3Clicked" (click)="onButton3Click()">Button 3</button>
-->













<button [ngClass]="{'disabled-button': button2Clicked}" [disabled]="button2Clicked"
type="button" class="btn bg-indigo-700 text-stone-100" (click)="sortDate(true) ">Wanhimmat <fa-icon [icon]="faArrowRight"></fa-icon></button>

<button [ngClass]="{'disabled-button': button2Clicked}" [disabled]="button2Clicked"
type="button" class="btn bg-indigo-700 text-stone-100" (click)="sortDate(false)">Uusimmat <fa-icon [icon]="faArrowRight"></fa-icon></button>

<hr>

<br>
<section class="flex justify-between">
<button [ngClass]="{'disabled-button': button2Clicked}" [disabled]="button2Clicked"
class="btn bg-slate-900 text-stone-100" (click)="onPageChangeMinus()">Edellinen sivu</button>

<!--20 item per page-->
<div
  class="mb-1 rounded-lg bg-info-100 px-1 py-1  text-base text-info-800"
  role="alert">
  Sivu {{newPageNumber}} / {{ events?.meta?.count / 20 | number: '1.0-0' }}<br>
    Kohteiden määrä: {{ events?.meta?.count | number: '1.0-0' }} <br>
</div>

<button [ngClass]="{'disabled-button': button2Clicked}" [disabled]="button2Clicked"
class="btn bg-slate-900 text-stone-100" (click)="onPageChangePlus()">Seuraava sivu</button>
</section>

<section class="keskiosa">

<aside class="korttilista">

    <article *ngFor="let event of events?.data" class="eventcard">

    <figure class="cardimage">
        <!--If there is not picture replace empty value with random placeholde picture-->
       
        <ng-container *ngIf="event?.images && event?.images?.length > 0; else placeholder">
          <img src="{{ event?.images[0]?.url }}" title="lisenssi: {{event?.images[0]?.license }}, kuvaaja: {{event?.images[0]?.photographer_name}}">
        </ng-container>
        <ng-template #placeholder>
          <img src="https://picsum.photos/640/360">
        </ng-template>
      </figure>

    <aside class="cardtext">
       <h2>{{event?.name?.fi}}</h2>
       <h3 *ngIf="event?.info_url?.fi?.length!"><a href="{{event?.info_url?.fi}}">Liput ja lisätiedot <fa-icon [icon]="arrowUpRightFromBox"></fa-icon>
       </a></h3>
        <ul>
       <li>{{event?.short_description?.fi}}</li>
        <li><span class="bg-emerald-200 ring-1 ring-green-600 p-0.5">Alkaa: {{event?.start_time | date : 'd.M.yyyy klo: H:mm'}}</span></li>
        <li>Loppuu: {{event?.end_time | date : 'd.M.yyyy klo: H:mm'}}</li>
        <li>Osoite: {{event?.location?.street_address?.fi }}, {{event?.location?.postal_code}}, {{event?.location?.address_locality?.fi}}</li>
        <li>
           
            <a [href]="getGoogleMapsLink(event?.location?.position?.coordinates[1], event?.location?.position?.coordinates[0])" target="_blank">Avaa Google Mapsiin
                <fa-icon [icon]="arrowUpRightFromBox"></fa-icon>
            </a>

    </li>
        </ul>


        </aside>

        <section class="liput bg-gradient-to-r from-indigo-500 to-indigo-800 text-stone-50">
            <h2>Lisätiedot</h2>
            <span *ngIf="event?.offers[0]?.is_free === true || false">Ilmaistapahtuma: {{event?.offers[0]?.is_free ? 'Kyllä' : 'Ei'}}<br></span>
        <span *ngIf="event?.offers[0]?.price?.fi.length!">Liput: {{event?.offers[0]?.price?.fi}}<br></span>
        <span *ngIf="event?.audience_min_age?.length!">Alaikäraja: {{event?.audience_min_age}}<br></span>
        <span *ngIf="event?.audience_max_age?.length!">Yläikäraja: {{event?.audience_max_age}}</span>
        </section>
       
    </article>

 

</aside>

</section>

</section>